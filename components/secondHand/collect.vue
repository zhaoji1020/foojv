<template>    <div class="collect-house clearfix">        <div class="collect fll" :class="{active: currentCollect}" >            <i class="iconfont icon-shoucang"></i>            <span v-if="!currentCollect" @click="handleCollect">关注此房源</span>            <span v-else @click="cancelCollect">已关注</span>        </div>        <div class="share fll">            <i class="iconfont icon-fenxiang1"></i>            <span>关注此房源</span>        </div>    </div></template><script>    import {mapState} from 'vuex'    import api from '~/api'    export default {        name: "follow",        props: {            collect: {                type: Boolean,                default: false            }        },        data() {            return {                currentCollect: this.collect            }        },        methods: {            cancelCollect() {                if(this.userid){                    let params = {                        house_id: this.$route.params.id,                        user_id: this.userid,                        type: 1                    }                    this.$axios.post(api.houseCollectCancel,params).then(res => {                        if(res.data.code == 200){                            this.currentCollect = false                            this.$message.warning("您已取消收藏")                        }                    })                }                else {                    this.$router.push("/login")                }            },            handleCollect() {               if(this.userid){                   let params = {                       house_id: this.$route.params.id,                       user_id: this.userid,                       type: 1                   }                   this.$axios.post(api.houseCollect,params).then(res => {                       if(res.data.code == 200){                           this.$message.success("房源收藏成功");                           this.currentCollect = true                       }                   })               }               else {                   this.$router.push("/login")               }            }        },        watch: {            collect(val) {                this.currentCollect = val;            }        },        computed: {            ...mapState(["userid"])        }    }</script><style>    .icon-shoucang,.icon-fenxiang1 {        margin-right: 8px;    }    .collect,    .share {        margin-right: 30px;        cursor: pointer;    }    .share {        margin-right: 0;    }    .active {        color: #c30d23;    }</style>